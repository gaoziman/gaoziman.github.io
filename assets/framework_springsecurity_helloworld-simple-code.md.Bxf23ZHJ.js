import{_ as n,B as l,o as p,c as t,j as i,a as e,G as h,a8 as k}from"./chunks/framework.D0fTRY1a.js";const b=JSON.parse('{"title":"HelloWorldå…¥é—¨æ¡ˆä¾‹","description":"","frontmatter":{},"headers":[],"relativePath":"framework/springsecurity/helloworld-simple-code.md","filePath":"framework/springsecurity/helloworld-simple-code.md","lastUpdated":null}'),r={name:"framework/springsecurity/helloworld-simple-code.md"};function E(d,s,g,o,c,y){const a=l("ArticleMetadata");return p(),t("div",null,[s[0]||(s[0]=i("h1",{id:"helloworldå…¥é—¨æ¡ˆä¾‹",tabindex:"-1"},[e("HelloWorldå…¥é—¨æ¡ˆä¾‹ "),i("a",{class:"header-anchor",href:"#helloworldå…¥é—¨æ¡ˆä¾‹","aria-label":'Permalink to "HelloWorldå…¥é—¨æ¡ˆä¾‹"'},"â€‹")],-1)),h(a),s[1]||(s[1]=k(`<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310302354916.png" alt="image-20231030235443828" loading="lazy"></p><h2 id="_1-å‰è¨€" tabindex="-1">1.å‰è¨€ <a class="header-anchor" href="#_1-å‰è¨€" aria-label="Permalink to &quot;1.å‰è¨€&quot;">â€‹</a></h2><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Leoå“¥ğŸ«£ğŸ«£ğŸ«£ï¼Œç¬¬ä¸€èŠ‚æˆ‘ä»¬è®¤è¯†äº†SpringSecurityç›¸å…³çš„æ¦‚å¿µä»¥åŠç›¸å…³çš„çš„å†å²ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬å°±ç›´æ¥ä¸Šæ‰‹SpringSecurityï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹çš„æ–¹å¼åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­é›†æˆSpringSecurityã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´è®©æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å†™ä»£ç å§ğŸ˜ğŸ˜ğŸ˜ã€‚</p><h2 id="_2-å¼€å‘ç¯å¢ƒ" tabindex="-1">2.å¼€å‘ç¯å¢ƒ <a class="header-anchor" href="#_2-å¼€å‘ç¯å¢ƒ" aria-label="Permalink to &quot;2.å¼€å‘ç¯å¢ƒ&quot;">â€‹</a></h2><p><strong>æ³¨æ„ï¼šæ­¤æ¬¡SpringSecurityçš„é¡¹ç›®æ¡ˆä¾‹çš„ç¯å¢ƒå¦‚ä¸‹</strong></p><ul><li>JDK17</li><li>IntelliJ IDEA 2023.22</li><li>SpringSecurity6.0</li><li>MySQL8.0+</li><li>Maven3.8+</li><li>MyBatis3.5+</li></ul><p>ä»¥ä¸Šç‰ˆæœ¬å‡ä¸ºç¬”è€…çš„æœ¬åœ°ç¯å¢ƒï¼Œå¤§å®¶å¯ä»¥è¿›è¡Œæ¨ªå‘å‚è€ƒï¼Œå¤§è‡´è·Ÿæˆ‘ä¿æŒä¸€è‡´å³å¯ã€‚</p><h2 id="_3-ç¯å¢ƒæ­å»º" tabindex="-1">3.ç¯å¢ƒæ­å»º <a class="header-anchor" href="#_3-ç¯å¢ƒæ­å»º" aria-label="Permalink to &quot;3.ç¯å¢ƒæ­å»º&quot;">â€‹</a></h2><p>åœ¨æ­å»ºæˆ‘ä»¬ç¬¬ä¸€ä¸ªSpringSecurityçš„HelloWorldçš„æ¡ˆä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¤ä¹ ä¸€ä¸‹åœ¨IDEAä¸­æ­å»ºä¸€ä¸ªåŸºç¡€çš„SprignBootç¯å¢ƒï¼Œæˆ‘ä»¬çš„æ¡ˆä¾‹ä¹Ÿæ˜¯åŸºäºSpringBootåŸºç¡€ç¯å¢ƒä¹‹ä¸Šè¿›è¡Œå¼€å‘ä»¥åŠä»£ç çš„ç¼–å†™ã€‚</p><h3 id="_3-1ä½¿ç”¨mavenåˆ›å»ºå·¥ç¨‹" tabindex="-1">3.1ä½¿ç”¨Mavenåˆ›å»ºå·¥ç¨‹ <a class="header-anchor" href="#_3-1ä½¿ç”¨mavenåˆ›å»ºå·¥ç¨‹" aria-label="Permalink to &quot;3.1ä½¿ç”¨Mavenåˆ›å»ºå·¥ç¨‹&quot;">â€‹</a></h3><p>ä½¿ç”¨Mavençˆ¶å­å·¥ç¨‹è¿›è¡Œåˆ›å»ºé¡¹ç›®ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311511360.png" alt="image-20231031151145267" loading="lazy"></p><h3 id="_3-2æ·»åŠ ä¾èµ–ä¿¡æ¯" tabindex="-1">3.2æ·»åŠ ä¾èµ–ä¿¡æ¯ <a class="header-anchor" href="#_3-2æ·»åŠ ä¾èµ–ä¿¡æ¯" aria-label="Permalink to &quot;3.2æ·»åŠ ä¾èµ–ä¿¡æ¯&quot;">â€‹</a></h3><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">project</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">         xmlns:xsi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">         xsi:schemaLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;4.0.0&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.javatop&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Leo-springsecurity6-start&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1.0-SNAPSHOT&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;spring-boot-starter-parent&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;3.0.12&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">relativePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">maven.compiler.source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;17&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">maven.compiler.source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">maven.compiler.target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;17&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">maven.compiler.target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;UTF-8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;spring-boot-starter-web&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;spring-boot-starter-test&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="_3-3é…ç½®yamlé…ç½®æ–‡ä»¶" tabindex="-1">3.3é…ç½®YAMLé…ç½®æ–‡ä»¶ <a class="header-anchor" href="#_3-3é…ç½®yamlé…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;3.3é…ç½®YAMLé…ç½®æ–‡ä»¶&quot;">â€‹</a></h3><div class="language-yml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8500</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-4æ·»åŠ ä¸»å¯åŠ¨ç±»" tabindex="-1">3.4æ·»åŠ ä¸»å¯åŠ¨ç±» <a class="header-anchor" href="#_3-4æ·»åŠ ä¸»å¯åŠ¨ç±»" aria-label="Permalink to &quot;3.4æ·»åŠ ä¸»å¯åŠ¨ç±»&quot;">â€‹</a></h3><div class="language-Java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.javatop;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.boot.SpringApplication;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.boot.autoconfigure.SpringBootApplication;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.context.ConfigurableApplicationContext;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.core.env.Environment;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> : Leo</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@version</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 1.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @date 2023-10-31 15:05</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @description : å¯åŠ¨ç±»</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SpringBootApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exclude</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { DataSourceAutoConfiguration.class })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Application</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ConfigurableApplicationContext context </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SpringApplication.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Application.class, args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Environment environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Environment.class);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è®¿é—®é“¾æ¥ï¼šhttp://localhost:&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> environment.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;server.port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;(â™¥â— â€¿â— )ï¾‰ï¾  é¡¹ç›®å¯åŠ¨æˆåŠŸ   áƒš(Â´Ú¡\`áƒš)ï¾  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; .-------.       ____     __        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; |  _ _   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      \\\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   \\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /  /    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; | ( &#39; )  |       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  _. /  &#39;       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; |(_ o _) /        _( )_ .&#39;         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; | (_,_).&#39; __  ___(_ o _)&#39;          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; |  |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  |  ||   |(_,_)&#39;         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; |  | </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`&#39;   /|   \`-&#39;  /           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; |  |  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    /  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      /           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot; &#39;&#39;-&#39;   \`&#39;-&#39;    \`-..-&#39;              &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="_3-5ç¼–å†™æ¥å£æµ‹è¯•" tabindex="-1">3.5ç¼–å†™æ¥å£æµ‹è¯• <a class="header-anchor" href="#_3-5ç¼–å†™æ¥å£æµ‹è¯•" aria-label="Permalink to &quot;3.5ç¼–å†™æ¥å£æµ‹è¯•&quot;">â€‹</a></h3><h4 id="_1-ç¼–å†™helloæ¥å£" tabindex="-1">1.ç¼–å†™Helloæ¥å£ <a class="header-anchor" href="#_1-ç¼–å†™helloæ¥å£" aria-label="Permalink to &quot;1.ç¼–å†™Helloæ¥å£&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.web.bind.annotation.RequestMapping;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.web.bind.annotation.RestController;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> : Leo</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@version</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 1.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @date 2023-10-31 15:02</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @description :</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RestController</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">         return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello......&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_2-å¯åŠ¨æµ‹è¯•" tabindex="-1">2.å¯åŠ¨æµ‹è¯• <a class="header-anchor" href="#_2-å¯åŠ¨æµ‹è¯•" aria-label="Permalink to &quot;2.å¯åŠ¨æµ‹è¯•&quot;">â€‹</a></h4><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311518919.png" alt="image-20231031151809752" loading="lazy"></p><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ip + ç«¯å£å·ï¼š <a href="http://localhost:8500/hello" target="_blank" rel="noreferrer">http://localhost:8500/hello</a></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311518671.png" alt="image-20231031151829593" loading="lazy"></p><p><strong>è‡³æ­¤ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„SpringBootçš„åŸºç¡€å¼€å‘ç¯å¢ƒå°±å·²ç»æ­å»ºå®Œæˆã€‚</strong></p><h3 id="_3-6æ·»åŠ springsecurityä¾èµ–" tabindex="-1">3.6æ·»åŠ SpringSecurityä¾èµ– <a class="header-anchor" href="#_3-6æ·»åŠ springsecurityä¾èµ–" aria-label="Permalink to &quot;3.6æ·»åŠ SpringSecurityä¾èµ–&quot;">â€‹</a></h3><p>æ·»åŠ ä¾èµ–</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	&lt;!--SpringSecurityå¯åŠ¨å™¨--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;spring-boot-starter-security&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯•" tabindex="-1">3.7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯• <a class="header-anchor" href="#_3-7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯•" aria-label="Permalink to &quot;3.7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯•&quot;">â€‹</a></h3><p>å†æ¬¡æ‰“å¼€æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ip + ç«¯å£å·ï¼š <a href="http://localhost:8500/hello" target="_blank" rel="noreferrer">http://localhost:8500/hello</a></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311520844.png" alt="image-20231031152047788" loading="lazy"></p><p>æ­¤æ—¶å‘ç°ï¼Œæˆ‘ä»¬å°±ç›´æ¥è®¿é—®åˆ°æˆ‘ä»¬çš„helloæ¥å£äº†ï¼Œè€Œæ˜¯éœ€è¦æˆ‘ä»¬è¿›è¡Œç™»å½•è®¤è¯ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“ç”¨æˆ·åè·Ÿå¯†ç æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¹Ÿåªæ˜¯æ·»åŠ äº†ä¸€ä¸ªSpringSecurityçš„ä¾èµ–è€Œæ˜¯ï¼Œæ€ä¹ˆå°±ç»™æˆ‘ç›´æ¥è·³å‡ºäº†ä¸€ä¸ªç™»å½•æ¡†å‘¢ã€‚</p><p>åœ¨ Spring Security ä¸­ï¼Œé»˜è®¤çš„ç™»å½•é¡µé¢å’Œç™»å½•æ¥å£ï¼Œéƒ½æ˜¯ <code>/login</code> ï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯ get è¯·æ±‚ï¼ˆç™»å½•é¡µé¢ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ post è¯·æ±‚ï¼ˆç™»å½•æ¥å£ï¼‰ã€‚</p><p><strong>ã€Œå¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œéå¸¸æ–¹ä¾¿ï¼Œä¸€ä¸ªä¾èµ–å°±ä¿æŠ¤äº†æ‰€æœ‰æ¥å£ã€‚ã€</strong></p><p>å¸¦ç€ç–‘é—®æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ï¼Œæ­¤æ—¶å‘ç°æˆ‘ä»¬çš„IDEAæ§åˆ¶å°å’Œç¬¬ä¸€æ¬¡æœ‰ä¸€äº›ä¸ä¸€æ ·ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311523906.png" alt="image-20231031152326757" loading="lazy"></p><p>ç¬¬ä¸€è¡Œçš„å†…å®¹å°±æ˜¯securityç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ªuuidç”Ÿæˆçš„å¯†ç ï¼Œç”¨æˆ·åé»˜è®¤ä¸ºuserã€‚ç¬¬äºŒè¡Œçš„å†…å®¹å¤§æ¦‚çš„æ„æ€ï¼Œè¿™ä¸ªç”Ÿæˆçš„å¯†ç åªé€‚åˆäºç”Ÿäº§ç¯å¢ƒï¼Œå¦‚æœéœ€è¦çº¿ä¸ŠæŠ•å…¥ä½¿ç”¨çš„è¯ï¼Œéœ€è¦ä½ è¿›è¡Œé…ç½®ã€‚</p><p>æœ‰äººè¯´ï¼Œä½ æ€ä¹ˆçŸ¥é“çŸ¥é“ç”Ÿæˆçš„é»˜è®¤å¯†ç æ˜¯ä¸€ä¸ª UUID å‘¢ï¼Ÿ</p><p>è¿™ä¸ªå…¶å®å¾ˆå¥½åˆ¤æ–­ã€‚</p><p>å’Œç”¨æˆ·ç›¸å…³çš„è‡ªåŠ¨åŒ–é…ç½®ç±»åœ¨ <code>UserDetailsServiceAutoConfiguration</code> é‡Œè¾¹ï¼Œåœ¨è¯¥ç±»çš„ <code>getOrDeducePassword</code> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹ä¸€è¡Œæ—¥å¿—ï¼š</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311540481.png" alt="image-20231031154020367" loading="lazy"></p><p>æ¯«æ— ç–‘é—®ï¼Œæˆ‘ä»¬åœ¨æ§åˆ¶å°çœ‹åˆ°çš„æ—¥å¿—å°±æ˜¯ä»è¿™é‡Œæ‰“å°å‡ºæ¥çš„ã€‚æ‰“å°çš„æ¡ä»¶æ˜¯ <strong>isPasswordGenerated</strong> æ–¹æ³•è¿”å› trueï¼Œå³å¯†ç æ˜¯é»˜è®¤ç”Ÿæˆçš„ã€‚</p><p>è¿›è€Œæˆ‘ä»¬å‘ç°ï¼Œuser.getPassword å‡ºç°åœ¨ SecurityProperties ä¸­ï¼Œåœ¨ SecurityProperties ä¸­æˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹å®šä¹‰ï¼š</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311541855.png" alt="image-20231031154134602" loading="lazy"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤çš„ç”¨æˆ·åå°±æ˜¯ userï¼Œé»˜è®¤çš„å¯†ç åˆ™æ˜¯ UUIDï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒpasswordGenerated ä¹Ÿä¸º trueã€‚</p><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä½¿ç”¨securityç»™æä¾›çš„ç”¨æˆ·åå’Œå¯†ç æ¥è¿›è¡Œç™»å½•è®¤è¯ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311535832.png" alt="image-20231031153507757" loading="lazy"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æˆåŠŸç™»å½•ï¼Œå¹¶ç›´æ¥è·³è½¬åˆ°æˆ‘ä»¬çš„helloæ¥å£ï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬çš„HelloWorldå…¥é—¨æ¡ˆä¾‹å®Œç»“ã€‚</p><h2 id="_4-è‡ªå®šä¹‰é…ç½®" tabindex="-1">4.è‡ªå®šä¹‰é…ç½® <a class="header-anchor" href="#_4-è‡ªå®šä¹‰é…ç½®" aria-label="Permalink to &quot;4.è‡ªå®šä¹‰é…ç½®&quot;">â€‹</a></h2><p>è™½ç„¶é€šè¿‡securityè‡ªå¸¦çš„å¯†ç å¯ä»¥è®©æˆ‘ä»¬è¿›è¡Œç™»å½•å¹¶è®¿é—®åˆ°æˆ‘ä»¬çš„æ¥å£ï¼Œä½†æ˜¯ä½ æ¯æ¬¡é¡¹ç›®é‡å¯ï¼Œç³»ç»Ÿæ‰€ç”Ÿæˆçš„UUIDéƒ½ä¸ä¸€æ ·ï¼Œè¿™æ ·ä¼šä¸ä¼šå¤ªéº»çƒ¦äº†ã€‚</p><p>èƒ½ä¸èƒ½é€šè¿‡æ‰‹åŠ¨é…ç½®çš„æ–¹å¼æ¥è¿›è¡Œé…ç½®è‡ªå®šä¹‰ç”¨æˆ·çš„å¯†ç å‘¢ã€‚å½“ç„¶å¯ä»¥ï¼Œä¸‹é¢Leoå“¥å¸¦ä½ é€šè¿‡é…ç½®æ–‡ä»¶æ¥å¯¹ä»–è¿›è¡Œè‡ªå®šä¹‰é…ç½®ã€‚</p><h3 id="_4-1é…ç½®æ–‡ä»¶" tabindex="-1">4.1é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#_4-1é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;4.1é…ç½®æ–‡ä»¶&quot;">â€‹</a></h3><p>æˆ‘ä»¬å¯ä»¥åœ¨ application.properties ä¸­é…ç½®é»˜è®¤çš„ç”¨æˆ·åå¯†ç ã€‚</p><p>æ€ä¹ˆé…ç½®å‘¢ï¼Ÿå¤§å®¶è¿˜è®°å¾—ä¸Šä¸€å°èŠ‚æˆ‘ä»¬è¯´çš„ SecurityPropertiesï¼Œé»˜è®¤çš„ç”¨æˆ·å°±å®šä¹‰åœ¨å®ƒé‡Œè¾¹ï¼Œæ˜¯ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œæˆ‘ä»¬å¦‚æœè¦å®šä¹‰è‡ªå·±çš„ç”¨æˆ·åå¯†ç ï¼Œå¿…ç„¶æ˜¯è¦å»è¦†ç›–é»˜è®¤é…ç½®ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ SecurityProperties çš„å®šä¹‰ï¼š</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311546658.png" alt="image-20231031154639513" loading="lazy"></p><p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ymlé…ç½®æ–‡ä»¶æ¥å¯¹SecurityPropertiesçš„é»˜è®¤é…ç½®è¿›è¡Œè¦†ç›–ï¼Œå¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡é…ç½®application.ymlæ¥è¿›è¡Œé…ç½®ã€‚</p><div class="language-yml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  security</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">javatop</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123456</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™å°±æ˜¯æˆ‘ä»¬æ–°å®šä¹‰çš„ç”¨æˆ·åå¯†ç ã€‚</p><p>åœ¨ properties ä¸­å®šä¹‰çš„ç”¨æˆ·åå¯†ç æœ€ç»ˆæ˜¯é€šè¿‡set æ–¹æ³•æ³¨å…¥åˆ°å±æ€§ä¸­å»çš„ï¼Œè¿™é‡Œæˆ‘ä»¬é¡ºä¾¿æ¥çœ‹ä¸‹ SecurityProperties.User#setPassword æ–¹æ³•:</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String password) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StringUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(password)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.passwordGenerated </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> password;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä»è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œapplication.yml ä¸­å®šä¹‰çš„å¯†ç åœ¨æ³¨å…¥è¿›æ¥ä¹‹åï¼Œè¿˜é¡ºä¾¿è®¾ç½®äº† passwordGenerated å±æ€§ä¸º falseï¼Œè¿™ä¸ªå±æ€§è®¾ç½®ä¸º false ä¹‹åï¼Œæ§åˆ¶å°å°±ä¸ä¼šæ‰“å°é»˜è®¤çš„å¯†ç äº†ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311548089.png" alt="image-20231031154846024" loading="lazy"></p><p>æ­¤æ—¶é‡å¯é¡¹ç›®ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è‡ªå·±å®šä¹‰çš„ç”¨æˆ·å/å¯†ç ç™»å½•äº†ã€‚</p><h2 id="_4-æ€»ç»“" tabindex="-1">4.æ€»ç»“ <a class="header-anchor" href="#_4-æ€»ç»“" aria-label="Permalink to &quot;4.æ€»ç»“&quot;">â€‹</a></h2><p>ä»¥ä¸Šä¾¿æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œæœ¬äººæ‰ç–å­¦æµ…ï¼Œæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§ä½¬ä»¬æ‰¹è¯„æŒ‡æ­£ï¼æˆ‘æ˜¯<strong>Leo</strong>ï¼Œä¸€ä¸ªåœ¨äº’è”ç½‘è¡Œä¸šçš„å°ç™½ï¼Œç«‹å¿—æˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚</p><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº<strong>Leo</strong>ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·-ç¨‹åºå‘˜Leoï¼Œåé¢æ–‡ç« ä¼šé¦–å…ˆåŒæ­¥è‡³å…¬ä¼—å·ã€‚</p>`,68))])}const m=n(r,[["render",E]]);export{b as __pageData,m as default};
