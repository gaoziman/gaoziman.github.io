import{_ as a,o as i,c as e,a7 as t}from"./chunks/framework.CU6B6cvq.js";const g=JSON.parse('{"title":"记录一次Docker与Redis冲突","description":"","frontmatter":{"title":"记录一次Docker与Redis冲突","order":4,"category":["报错及Bug"],"tag":["报错及Bug"],"pageview":false,"date":"2023-09-06T00:00:00.000Z","comment":false,"breadcrumb":false},"headers":[],"relativePath":"tools/bugs/record-Docker-and-redis-conflict-once.md","filePath":"tools/bugs/record-Docker-and-redis-conflict-once.md"}'),o={name:"tools/bugs/record-Docker-and-redis-conflict-once.md"};function n(c,s,p,r,h,l){return i(),e("div",null,s[0]||(s[0]=[t('<blockquote><p>大家好，我是Leo，之前整了了一个华为云2c4G的新人优惠云服务器，一直没派上用场，这不最近当前重新学一下Redis相关的知识，就是就准备再服务器上面安装Redis使用，也懒得我在搞虚拟机。</p></blockquote><h2 id="_1-问题发现" tabindex="-1">1. 问题发现 <a class="header-anchor" href="#_1-问题发现" aria-label="Permalink to &quot;1. 问题发现&quot;">​</a></h2><p>我索性也没有想太多,Docker默认安装的。</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111537144.png" alt="image-20230911153750067"></p><p>Redis这部分内容也是基于最新的Redis7版本进行学习，还侧重学习了一下Redis的新特性。</p><p>于是在Docker中安装了Redis7.0.2版本。</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111539572.png" alt="image-20230911153934505"></p><p><strong>这边一切就绪，于是准备使用进入docker的方式来启动Redis</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span></span></code></pre></div><p>啪一声快乐没了</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111544278.gif" alt="WeyoL"></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111540827.png" alt="image-20230911154029780"></p><h2 id="_2-探询问题" tabindex="-1">2. 探询问题 <a class="header-anchor" href="#_2-探询问题" aria-label="Permalink to &quot;2. 探询问题&quot;">​</a></h2><p>既然有问题，咱们就一点一点找呗。</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111549075.gif" alt="G5yKM"></p><p>我第一时间想到了去通过<code>docker日志</code>去查看具体的问题是啥，这种情况日志就是我们最好的朋友。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --follow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --timestamps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span></span></code></pre></div><p>你还别说，你还真别说，大家继续往下看</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111552335.png" alt=""></p><p>图中我用红色框框圈住的便是问题的所在，于是我便开始进行了面向谷歌编程，开始搜索问题的本源。</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111554830.jpg" alt="WEke3"></p><p>最后在Redis官方github仓库中给出这一点解析，Docker版本&lt;=20与Redis最新版在一起会发生冲突，官方建议使用低版本Redis, 再Github issures上有关这个问题的一些描述，有兴趣的朋友可以看看，<a href="https://github.com/redis/redis/issues/12362" target="_blank" rel="noreferrer">链接直达</a></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111558466.png" alt="image-20230911155841185"></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111601446.gif" alt="jxJ5W"></p><h2 id="_3-解决问题" tabindex="-1">3. 解决问题 <a class="header-anchor" href="#_3-解决问题" aria-label="Permalink to &quot;3. 解决问题&quot;">​</a></h2><p>好的，我们继续，于是我就删除了Redis7的镜像，因为Docker还有其他服务，所以我就只能先对Redis下手了，把Redis版本降为5。</p><p>当然这里其他朋友可以直接升级Docker版本，只要Docker版本大于20就不会有这个问题哈。</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111613322.png" alt="image-20230911161339264"></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309111616257.jpg" alt="Qw5GJ"></p><p>完美收工。</p><p><strong>到这里问题就解决了，这里想告诉大家，遇到之前没有碰到过的新问题，不要慌，先追溯本源，看看到底是哪里出错了，思路一定要清晰，实在没有头绪的话可以百度，利用好搜索引擎，你一定可以的!!!</strong></p>',31)]))}const m=a(o,[["render",n]]);export{g as __pageData,m as default};
