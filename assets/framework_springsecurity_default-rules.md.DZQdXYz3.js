import{_ as i,o as a,c as n,a7 as t}from"./chunks/framework.CU6B6cvq.js";const g=JSON.parse('{"title":"è‡ªå®šä¹‰è®¤è¯è§„åˆ™","description":"","frontmatter":{"title":"è‡ªå®šä¹‰è®¤è¯è§„åˆ™","order":12,"category":["springsecurity"],"tag":["springsecurity"],"pageview":false,"date":"2023-12-13T15:31:06.000Z","comment":false,"breadcrumb":false},"headers":[],"relativePath":"framework/springsecurity/default-rules.md","filePath":"framework/springsecurity/default-rules.md"}'),l={name:"framework/springsecurity/default-rules.md"};function e(h,s,p,r,k,E){return a(),n("div",null,s[0]||(s[0]=[t(`<h1 id="springsecurity6-è‡ªå®šä¹‰è®¤è¯è§„åˆ™" tabindex="-1">SpringSecurity6 | è‡ªå®šä¹‰è®¤è¯è§„åˆ™ <a class="header-anchor" href="#springsecurity6-è‡ªå®šä¹‰è®¤è¯è§„åˆ™" aria-label="Permalink to &quot;SpringSecurity6 | è‡ªå®šä¹‰è®¤è¯è§„åˆ™&quot;">â€‹</a></h1><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091750103.png" alt="image-20231030235443828"></p><h2 id="_1-å‰è¨€" tabindex="-1">1.å‰è¨€ <a class="header-anchor" href="#_1-å‰è¨€" aria-label="Permalink to &quot;1.å‰è¨€&quot;">â€‹</a></h2><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Leoå“¥ğŸ«£ğŸ«£ğŸ«£ï¼Œæ¥åˆ°<a href="https://gaoziman.blog.csdn.net/article/details/134864581" target="_blank" rel="noreferrer">ä¸Šä¸€èŠ‚</a>ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä¿®æ”¹SpringSecurityé»˜è®¤ç”¨æˆ·ï¼Œä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„è‡ªå®šä¹‰çš„ç”¨æˆ·åå’Œå¯†ç æ¥è¿›è¡Œè®¤è¯ç™»å½•ã€‚ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬çš„å¼€å‘è€…å¯èƒ½å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ¥å£éƒ½éœ€è¦è¿›è¡Œæ‹¦æˆªï¼Œå°±æ¯”å¦‚ï¼Œç™»å½•ï¼Œæ³¨å†Œæ¥å£ç­‰è¿™äº›æ˜¯ä¸æ˜¯è¦è¿›è¡Œæ‹¦æˆªçš„ï¼Œé‚£ä¹ˆå¦‚ä½•ä¿®æ”¹å¹¶è‡ªå®šä¹‰è¿™äº›è§„åˆ™ã€‚æ²¡é”™è¿™å°±æ˜¯æˆ‘ä»¬æœ¬èŠ‚çš„é‡ç‚¹ã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´è®©æˆ‘ä»¬å¼€å§‹å§ğŸ˜ğŸ˜ğŸ˜ã€‚</p><h2 id="_2-ç¯å¢ƒæ­å»º" tabindex="-1">2.ç¯å¢ƒæ­å»º <a class="header-anchor" href="#_2-ç¯å¢ƒæ­å»º" aria-label="Permalink to &quot;2.ç¯å¢ƒæ­å»º&quot;">â€‹</a></h2><p>æœ¬ç¯‡æˆ‘ä»¬å¼€å§‹æ­å»ºä¸€ä¸ªæ–°çš„æ¨¡å—ï¼Œå¹¶å–åä¸ºcustomã€‚å…·ä½“æ­å»ºè¿‡ç¨‹å¤§å®¶å¯ä»¥è‡ªè¡Œæ­å»ºï¼Œæˆ‘è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°äº†å“ˆã€‚</p><p>æˆ‘å·²ç»æ­å»ºå¥½äº†åŸºæœ¬å·¥ç¨‹ï¼Œå¹¶å®šä¹‰å¥½äº†ä¸¤ä¸ªæ¥å£ï¼Œä»¥åŠè‡ªå®šä¹‰æˆ‘ä»¬çš„ç™»å½•ç”¨æˆ·åä»¥åŠå¯†ç ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091758147.png" alt="image-20231209175808107"></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091758866.png" alt="image-20231209175827845"></p><p>ä¸‹é¢æˆ‘ä»¬ç›´æ¥å¯åŠ¨SpringBootå·¥ç¨‹ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091759271.png" alt="image-20231209175918237"></p><p>é€šè¿‡<a href="http://localhost:8600/test%E8%AE%BF%E9%97%AEtest%E6%8E%A5%E5%8F%A3" target="_blank" rel="noreferrer">http://localhost:8600/testè®¿é—®testæ¥å£</a></p><p>é€šè¿‡<a href="http://localhost:8600/hello%E8%AE%BF%E9%97%AEhello%E6%8E%A5%E5%8F%A3" target="_blank" rel="noreferrer">http://localhost:8600/helloè®¿é—®helloæ¥å£</a></p><p>å‘ç°ä»–éƒ½ç»è¿‡è®¤è¯ï¼Œè‡³æ­¤æˆ‘ä»¬åŸºæœ¬ç¯å¢ƒä»‹ç»å°±åˆ°è¿™é‡Œã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091936305.png" alt="image-20231209193647262"></p><h2 id="_3-è‡ªå®šä¹‰è§„åˆ™" tabindex="-1">3.è‡ªå®šä¹‰è§„åˆ™ <a class="header-anchor" href="#_3-è‡ªå®šä¹‰è§„åˆ™" aria-label="Permalink to &quot;3.è‡ªå®šä¹‰è§„åˆ™&quot;">â€‹</a></h2><h3 id="_3-1-æ¦‚è¿°" tabindex="-1">3.1 æ¦‚è¿° <a class="header-anchor" href="#_3-1-æ¦‚è¿°" aria-label="Permalink to &quot;3.1 æ¦‚è¿°&quot;">â€‹</a></h3><p>åœ¨SpringSecurity6ä¸­ï¼Œæˆ‘ä»¬åŸæœ¬åœ¨åŸæ¥SpringSecurityå®ç°çš„æ–¹æ³•å·²ç»è¢«æŠ›å¼ƒ,å·²ç»å®Œå…¨ä¸èƒ½ç”¨äº†ã€‚æˆ‘ä»¬åœ¨SpringSecurity6å¯ä»¥è¿™æ ·è¿›è¡Œå®ç°ã€‚</p><ol><li>é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªé…ç½®ç±»ï¼Œæˆ‘è¿™é‡Œå‘½åä¸ºMySecurityConfig.javaã€‚</li><li>ç„¶åå®ç°@EnableWebSecurityæ³¨è§£ï¼Œå¹¶å‘Springä¸­æ³¨å…¥ä¸€ä¸ªBeanå¯¹è±¡SecurityFilterChainã€‚</li><li>åé¢æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡è¿™æ ·å®ç°æ–¹å¼çš„ã€‚</li><li>æœ€åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è‡ªå®šä¹‰æˆ‘ä»¬çš„è§„åˆ™äº†ã€‚</li></ol><h3 id="_3-2-è§„åˆ™" tabindex="-1">3.2 è§„åˆ™ <a class="header-anchor" href="#_3-2-è§„åˆ™" aria-label="Permalink to &quot;3.2 è§„åˆ™&quot;">â€‹</a></h3><ol><li>æ”¾è¡Œhelloæ¥å£ã€‚</li><li>é™¤äº†helloæ¥å£ï¼Œå…¶ä»–æ¥å£éƒ½éœ€è¦è¿›è¡Œè®¤è¯ã€‚</li><li>å¼€å¯è¡¨å•è®¤è¯ã€‚</li></ol><p><strong>ç›´æ¥ä¸Šä»£ç ã€‚</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.javatop.custom.config;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.context.annotation.Bean;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.context.annotation.Configuration;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.security.web.SecurityFilterChain;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> : Leo</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@version</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 1.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @date 2023-12-09 17:45</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @description :</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EnableWebSecurity</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MySecurityConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SecurityFilterChain </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">securityFilterChain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HttpSecurity </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Exception {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">authorizeRequests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requestMatchers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">permitAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ”¾è¡Œæ”¹èµ„æºï¼Œä¸ç”¨è®¤è¯å¯ä»¥ç›´æ¥è®¿é—®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">anyRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">authenticated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦è®¤è¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formLogin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼€å¯è¡¨å•ç™»å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æœ€åæˆ‘ä»¬é‡å¯é¡¹ç›®ç„¶åçœ‹æ•ˆæœæ˜¯ä¸æ˜¯æŒ‰ç…§æˆ‘ä»¬é…ç½®è¿™æ ·çš„ã€‚</p><p>é¦–å…ˆè®¿é—®<a href="http://localhost:8600/hello%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%8F%91%E7%8E%B0%E7%A1%AE%E5%AE%9E%E6%B2%A1%E6%9C%89%E9%80%9A%E8%BF%87%E8%AE%A4%E8%AF%81%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%EF%BC%8C%E8%AF%B4%E6%98%8E%E6%88%91%E4%BB%AC%E7%9A%84%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%94%9F%E6%95%88%E4%BA%86%E3%80%82" target="_blank" rel="noreferrer">http://localhost:8600/helloæ¥å£ï¼Œå‘ç°ç¡®å®æ²¡æœ‰é€šè¿‡è®¤è¯å¯ä»¥ç›´æ¥è®¿é—®ï¼Œè¯´æ˜æˆ‘ä»¬çš„é…ç½®ç±»ç”Ÿæ•ˆäº†ã€‚</a></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091945185.png" alt="image-20231209194520148"></p><p>ç„¶åè®¿é—®<a href="http://localhost:8600/test%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%8F%91%E7%8E%B0%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81%E4%B9%8B%E5%90%8E%E6%89%8D%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E3%80%82" target="_blank" rel="noreferrer">http://localhost:8600/testæ¥å£ï¼Œå‘ç°æˆ‘ä»¬éœ€è¦è¿›è¡Œç™»å½•è®¤è¯ä¹‹åæ‰å¯ä»¥è®¿é—®ã€‚</a></p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091948929.gif" alt=""></p><h3 id="_3-3-æ‹“å±•" tabindex="-1">3.3 æ‹“å±• <a class="header-anchor" href="#_3-3-æ‹“å±•" aria-label="Permalink to &quot;3.3 æ‹“å±•&quot;">â€‹</a></h3><p>å½“ç„¶ä¹Ÿä¸æ˜¯éœ€è¦é€šè¿‡ä¸€ä¸ªä¸€ä¸ªåŠ ç„¶åè¿›è¡Œé…ç½®ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦æ”¾è¡Œå¤šä¸ªæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿›è¡Œä»¥ä¸‹é…ç½®ã€‚</p><p>ç›´æ¥åœ¨åé¢åŠ ä¸Šä½ éœ€è¦æ”¾è¡Œçš„æ¥å£è·¯å¾„å³å¯ã€‚</p><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312091950858.png" alt="image-20231209195016819"></p><h2 id="_4-æ€»ç»“" tabindex="-1">4.æ€»ç»“ <a class="header-anchor" href="#_4-æ€»ç»“" aria-label="Permalink to &quot;4.æ€»ç»“&quot;">â€‹</a></h2><p>ä»¥ä¸Šä¾¿æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œæœ¬äººæ‰ç–å­¦æµ…ï¼Œæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§ä½¬ä»¬æ‰¹è¯„æŒ‡æ­£ï¼æˆ‘æ˜¯<strong>Leo</strong>ï¼Œä¸€ä¸ªåœ¨äº’è”ç½‘è¡Œä¸šçš„å°ç™½ï¼Œç«‹å¿—æˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚</p><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº<strong>Leo</strong>ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·-ç¨‹åºå‘˜Leoï¼Œåé¢æ–‡ç« ä¼šé¦–å…ˆåŒæ­¥è‡³å…¬ä¼—å·ã€‚</p>`,35)]))}const c=i(l,[["render",e]]);export{g as __pageData,c as default};
